<!DOCTYPE html>
<html>
<head>
    <title>Serving Now - Login</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://kit-free.fontawesome.com/releases/latest/css/free.min.css">
</head>
<body>
    <div class="container-fluid d-flex justify-content-center">
        <form id="signup-form" class="d-flex flex-column w-50"
         onsubmit="return submitSignup()" novalidate>
            <div class="form-group mt-3">
                <label for="signup-email">Email</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-envelope"></i>
                        </div>
                    </div>
                    <input id="signup-email" class="form-control"
                     type="email" placeholder="email" required/>
                    <div class="invalid-feedback">
                        Please enter a valid email
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="signup-email-match">Confirm Email</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-key"></i>
                        </div>
                    </div>
                    <input id="signup-email-match" class="form-control"
                    type="email" placeholder="confirm email" required
                    oninput="checkEmailMatch(this)"/>
                    <div class="invalid-feedback">
                        Your emails must match
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="signup-pword">Password</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-key"></i>
                        </div>
                    </div>
                    <input id="signup-pword" class="form-control"
                    type="password" placeholder="password" required minlength=8/>
                    <div class="invalid-feedback">
                        Your password must be at least 8 characters long
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="signup-pword-match">Confirm Password</label>
                <div class="input-group">
                    <div class="input-group-prepend">
                        <div class="input-group-text">
                            <i class="fas fa-key"></i>
                        </div>
                    </div>
                    <input id="signup-pword-match" class="form-control"
                    type="password" placeholder="confirm password" required
                    oninput="checkPasswordMatch(this)"/>
                    <div class="invalid-feedback">
                        Your passwords must match
                    </div>
                </div>
            </div>
            <button type="submit" class="btn btn-primary align-self-center w-50">
                Sign up
            </button>
            <p class="align-self-center mt-2">
                Existing user? <a href="./login.html">Log in</a> here
            </p>
        </form>
    </div>


    <script>
        function checkEmailMatch(input) {
            if (input.value != document.querySelector('#signup-email').value) {
                input.setCustomValidity('Invalid field.');
            } else {
                input.setCustomValidity('');
            }
        }
        function checkPasswordMatch(input) {
            if (input.value != document.querySelector('#signup-pword').value) {
                input.setCustomValidity('Invalid field.');
            } else {
                input.setCustomValidity('');
            }
        }
        function submitSignup() {
            var form = document.querySelector('#signup-form');
            var email = document.querySelector('#signup-email');
            var pword = document.querySelector('#signup-pword');
            if (form.checkValidity()) {
                console.log('valid form: email ('+email.value+') password ('+pword.value+')');
            } else {
                console.log('invalid form');
                form.classList.add('was-validated')
            }
            return false;
        }
    </script>

</body>
</html>